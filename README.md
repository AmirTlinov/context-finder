# Context Finder

**ĞœĞ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ğ°Ñ Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ Ğ¸ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ Ğ´Ğ»Ñ Ğ˜Ğ˜-Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹ Ğ² Ğ»ÑĞ±Ğ¾Ğ¼ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğµ**

Context Finder â€” ÑÑ‚Ğ¾ CLI-Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ Ğ´Ğ»Ñ ÑĞµĞ¼Ğ°Ğ½Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ¿Ğ¾ ĞºĞ¾Ğ´Ğ¾Ğ²Ñ‹Ğ¼ Ğ±Ğ°Ğ·Ğ°Ğ¼, Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ´Ğ»Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ˜Ğ˜-Ğ¼Ğ¾Ğ´ĞµĞ»ÑĞ¼Ğ¸ Ñ‡ĞµÑ€ĞµĞ· shell commands. Ğ¤Ğ¾ĞºÑƒÑ Ğ½Ğ° Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ¸ ÑÑ„Ñ„ĞµĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğ¼ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¸ embeddings + AST-aware Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°.

## ğŸ¯ ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸

### Phase 3 (Code Intelligence) ğŸ§  **NEW!**

- **Code Graph Analysis** â€” AST-based extraction call chains & dependencies
- **Context-Aware Search** â€” Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ÑĞ±Ğ¾Ñ€ĞºĞ° related code (flagship!)
- **Smart Context Assembly** â€” relevance scoring Ğ¿Ğ¾ distance + relationship type
- **Parallel Processing** â€” 16x concurrent file reads (3-5x ÑƒÑĞºĞ¾Ñ€ĞµĞ½Ğ¸Ğµ)

### Phase 2 (Flagship AI Agent Optimization) âœ¨

- **ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğµ embeddings** â€” imports + docstrings + code Ğ´Ğ»Ñ Ğ±Ğ¾Ğ³Ğ°Ñ‚Ğ¾Ğ¹ ÑĞµĞ¼Ğ°Ğ½Ñ‚Ğ¸ĞºĞ¸
- **Ğ˜Ğ½ĞºÑ€ĞµĞ¼ĞµĞ½Ñ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¸Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ñ** â€” 62x ÑƒÑĞºĞ¾Ñ€ĞµĞ½Ğ¸Ğµ (33.8s â†’ 0.54s Ğ¿Ñ€Ğ¸ Ğ¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ğ²Ğ¸Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹)
- **Batch search API** â€” Ğ¿Ğ°Ñ€Ğ°Ğ»Ğ»ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ multi-query Ğ´Ğ»Ñ ÑÑ„Ñ„ĞµĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ñ… AI workflows
- **Qualified names** â€” ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¸Ğ¼ĞµĞ½Ğ° Ğ¼ĞµÑ‚Ğ¾Ğ´Ğ¾Ğ² (Class::method)

### Core Features

- **Ğ¡ĞµĞ¼Ğ°Ğ½Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ñ€Ğ°Ğ·Ğ±Ğ¸ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ´Ğ°** â€” AST-aware chunking Ñ Tree-sitter
- **Ğ“Ğ¸Ğ±Ñ€Ğ¸Ğ´Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº** â€” semantic (adaptive) + fuzzy + RRF fusion Ğ´Ğ»Ñ 100% Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚Ğ¸
- **Ğ’ĞµĞºÑ‚Ğ¾Ñ€Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº** â€” ONNX Runtime (CUDA) + HNSW Ğ´Ğ»Ñ Ñ‚Ğ¾Ñ‡Ğ½Ğ¾Ğ³Ğ¾ ÑĞµĞ¼Ğ°Ğ½Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ¸ÑĞºĞ°
- **CLI Ñ JSON Ğ²Ñ‹Ğ²Ğ¾Ğ´Ğ¾Ğ¼** â€” 4 ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹, Ğ¿Ğ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ parseable Ğ´Ğ»Ñ Ğ˜Ğ˜-Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹
- **ĞĞ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ğ°Ñ query expansion** â€” 100+ code-specific ÑĞ¸Ğ½Ğ¾Ğ½Ğ¸Ğ¼Ğ¾Ğ², tokenization
- **ĞœÑƒĞ»ÑŒÑ‚Ğ¸ÑĞ·Ñ‹Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ** â€” Rust, Python, JS/TS Ñ Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¼ AST-Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸ĞµĞ¼

## ğŸ“Š ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Context Finder                               â”‚
â”‚                     Flagship-level Code Navigation                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Source Code  â”‚
         â”‚  (Ğ»ÑĞ±Ğ¾Ğ¹ ÑĞ·Ñ‹Ğº) â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Code Chunker         â”‚ â—„â”€â”€â”€ Tree-sitter AST Parser
    â”‚   (AST-aware)          â”‚      â€¢ Ğ¡ĞµĞ¼Ğ°Ğ½Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â€¢ ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ (imports, scopes)
             â”‚                      â€¢ ĞœĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ (types, names)
             â”‚
             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â–¼                      â–¼                     â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Vector Store   â”‚   â”‚  Fuzzy Index    â”‚   â”‚   Indexer    â”‚
    â”‚  (HNSW + FAISS) â”‚   â”‚  (nucleo)       â”‚   â”‚  (metadata)  â”‚
    â”‚                 â”‚   â”‚                 â”‚   â”‚              â”‚
    â”‚  â€¢ Embeddings   â”‚   â”‚  â€¢ Path match   â”‚   â”‚  â€¢ Symbols   â”‚
    â”‚  â€¢ ANN Search   â”‚   â”‚  â€¢ Content fuzz â”‚   â”‚  â€¢ Relations â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                     â”‚                    â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  Retrieval Engine â”‚
              â”‚  (Hybrid Search)  â”‚
              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
              â”‚ 1. Fuzzy Search   â”‚ â”€â”€â–º Top-K candidates
              â”‚ 2. Semantic Searchâ”‚ â”€â”€â–º Top-K candidates
              â”‚ 3. Fusion (RRF)   â”‚ â”€â”€â–º Combined results
              â”‚ 4. Reranking      â”‚ â”€â”€â–º Final ranked list
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚
                        â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   CLI (4 ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹) â”‚
              â”‚   JSON output     â”‚
              â”‚                   â”‚
              â”‚  â€¢ index          â”‚
              â”‚  â€¢ search         â”‚
              â”‚  â€¢ get-context    â”‚
              â”‚  â€¢ list-symbols   â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” Pipeline Ğ³Ğ¸Ğ±Ñ€Ğ¸Ğ´Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ¸ÑĞºĞ°

```
Query: "async error handling"
   â”‚
   â”œâ”€â–º Fuzzy Search (nucleo-matcher)
   â”‚     â€¢ ĞŸĞ¾Ğ¸ÑĞº Ğ¿Ğ¾ Ğ¿ÑƒÑ‚ÑĞ¼ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
   â”‚     â€¢ ĞŸĞ¾Ğ¸ÑĞº Ğ² ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ğ¼Ğ¾Ğ¼
   â”‚     â€¢ Score: 0-1 (normalized)
   â”‚     â””â”€â–º [ {chunk, score: 0.85}, ... ] (Top 50)
   â”‚
   â”œâ”€â–º Semantic Search (embeddings)
   â”‚     â€¢ Ğ’ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°
   â”‚     â€¢ ANN Ñ‡ĞµÑ€ĞµĞ· HNSW index
   â”‚     â€¢ Cosine similarity
   â”‚     â””â”€â–º [ {chunk, score: 0.92}, ... ] (Top 50)
   â”‚
   â””â”€â–º Fusion (RRF - Reciprocal Rank Fusion)
         â€¢ Combine: fuzzy Ã— 0.3 + semantic Ã— 0.7
         â€¢ RRF formula: Î£ 1/(k + rank_i)
         â€¢ k = 60 (tunable constant)
         â””â”€â–º [ {chunk, fused_score}, ... ]
               â”‚
               â–¼
         Reranking (Contextual)
               â€¢ Cross-encoder (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
               â€¢ Context similarity
               â€¢ Boost Ğ¿Ğ¾ metadata
               â””â”€â–º Final Top-N Results
```

## ğŸš€ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚

### Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°

```bash
# Ğ˜Ğ· Ğ¸ÑÑ…Ğ¾Ğ´Ğ½Ğ¸ĞºĞ¾Ğ²
git clone https://github.com/yourusername/context-finder
cd context-finder
cargo build --release

# Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ³Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ğ¾
cargo install --path crates/cli
```

### Ğ’Ñ‹Ğ±Ğ¾Ñ€ embedding-Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸

ĞŸĞ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ ONNX Runtime CUDA (BGE-small). Ğ¡ĞºĞ°Ñ‡Ğ°Ğ¹Ñ‚Ğµ ONNX + tokenizer Ğ² `~/.cache/context-finder/models/bge-small` (Ğ¸Ğ»Ğ¸ `CONTEXT_FINDER_MODEL_DIR`) Ñ‡ĞµÑ€ĞµĞ· `python scripts/download_onnx_models.py`. CPU fallback Ğ¾Ñ‚ĞºĞ»ÑÑ‡Ñ‘Ğ½, Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ GPU Ñ CUDA. 
Ğ”Ğ»Ñ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹ Ğ½ÑƒĞ¶ĞµĞ½ `huggingface_hub` (`pip install huggingface_hub`). ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµĞ¼Ğ°Ñ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ: `bge-small`.

**ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ (GPU):**
- `CONTEXT_FINDER_EMBEDDING_MODEL` â€” `bge-small` (default)
- `CONTEXT_FINDER_MODEL_DIR` â€” ĞºĞ¾Ñ€ĞµĞ½ÑŒ ĞºÑÑˆĞ° Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹ (ĞµÑĞ»Ğ¸ Ğ½Ğµ `~/.cache/context-finder/models`)
- `CONTEXT_FINDER_CUDA_DEVICE` â€” ID GPU (int, optional, default 0)
- `CONTEXT_FINDER_CUDA_MEM_LIMIT_MB` â€” Ğ»Ğ¸Ğ¼Ğ¸Ñ‚ Ğ°Ñ€ĞµĞ½Ñ‹ CUDA EP Ğ² Ğ¼ĞµĞ³Ğ°Ğ±Ğ°Ğ¹Ñ‚Ğ°Ñ… (optional)
- `CONTEXT_FINDER_PROFILE` â€” Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ» Ğ¿Ğ¾Ğ¸ÑĞºĞ° (`general` Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ, Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‚ÑŒ `--profile targeted/venorus`)

- `CONTEXT_FINDER_EMBEDDING_MODEL=bge-small` (default, 384d)
- `ORT_LIB_LOCATION=$HOME/.cache/ort.pyke.io/dfbin/x86_64-unknown-linux-gnu/<hash>/onnxruntime/lib`
- `LD_LIBRARY_PATH=$ORT_LIB_LOCATION:$HOME/.local/lib/python3.12/site-packages/nvidia/cublas/lib:$HOME/.local/lib/python3.12/site-packages/nvidia/cuda_runtime/lib:$HOME/.local/lib/python3.12/site-packages/nvidia/curand/lib:$HOME/.local/lib/python3.12/site-packages/nvidia/cufft/lib:$HOME/.local/lib/python3.12/site-packages/nvidia/cudnn/lib:/usr/local/cuda/targets/x86_64-linux/lib:/usr/local/cuda/lib64`

### Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ CLI

```bash
# Ğ˜Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
context-finder index /path/to/project
# Output: {"status":"ok","chunks":1893,"files":247,"time_ms":8300}

# ĞŸĞ¾Ğ¸ÑĞº Ğ¿Ğ¾ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ñƒ
context-finder search "async error handling" --limit 10
# Output: JSON Ñ results[{file, lines, symbol, score, content, context}]

# ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ Ğ´Ğ»Ñ ÑÑ‚Ñ€Ğ¾ĞºĞ¸ (Ğ´Ğ»Ñ Ğ˜Ğ˜ Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ğ¸)
context-finder get-context src/main.rs 42 --window 20
# Output: JSON Ñ symbol, parent, imports, content, window

# Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ² Ğ² Ñ„Ğ°Ğ¹Ğ»Ğµ
context-finder list-symbols src/lib.rs
# Output: JSON Ñ symbols[{name, type, parent, line}]
```

## ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»Ğ¸ Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ¸ rerank

- ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ `general` (Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ) ÑƒÑĞ¸Ğ»ÑĞµÑ‚ `src/lib/utils/configs/tools/bench`, ÑˆÑ‚Ñ€Ğ°Ñ„ÑƒĞµÑ‚ `tests/docs/docker/infra/vendor/logs` Ğ¸ Ğ·Ğ°Ğ´Ğ°Ñ‘Ñ‚ Ğ¿Ğ¾Ñ€Ğ¾Ğ³Ğ¸ rerank (fuzzy â‰¥ 0.18, semantic â‰¥ 0.05), BM25 Ğ¾ĞºĞ½Ğ¾ 210 Ğ¸ boosts: path 1.8, symbol 2.2, yaml 0.9, bm25 1.1.
- ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ `targeted/venorus` Ğ½Ğ°ÑĞ»ĞµĞ´ÑƒĞµÑ‚ `general`, Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑ‚ must-hit Ğ´Ğ»Ñ ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ñ… ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³Ğ¾Ğ²/ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ¾Ğ² Venorus Ğ¸ Ğ±Ğ¾Ğ»ĞµĞµ Ğ°Ğ³Ñ€ĞµÑÑĞ¸Ğ²Ğ½Ñ‹Ğµ boosts (path 2.0, symbol 2.6, yaml 1.0, bm25 1.2).
- ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ñ: `context-finder search "query" --profile targeted/venorus` Ğ¸Ğ»Ğ¸ `CONTEXT_FINDER_PROFILE=targeted/venorus`.
- Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ñ (JSON/TOML): ÑĞµĞºÑ†Ğ¸Ğ¸ `paths` (boost/penalty/reject/noise + must_hit), `rerank.thresholds` (min_fuzzy_score, min_semantic_score), `rerank.bm25` (k1, b, window), `rerank.boosts` (path/symbol/yaml_path/bm25), `rerank.must_hit.base_bonus` (Ğ±ÑƒÑÑ‚ Ğ´Ğ»Ñ Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»Ğ½Ñ‹Ñ… Ğ¿Ğ¾Ğ¿Ğ°Ğ´Ğ°Ğ½Ğ¸Ğ¹).

## Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ CUDA runtime (Ğ±ĞµĞ· Ğ³Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸)

- Ğ¡ĞºĞ°Ñ‡Ğ°Ğ¹Ñ‚Ğµ Ğ½ÑƒĞ¶Ğ½Ñ‹Ğµ so (onnxruntime-gpu + CUDA libs, Ğ²ĞºĞ»ÑÑ‡Ğ°Ñ NVRTC) Ğ² Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ĞºÑÑˆ: `bash scripts/setup_cuda_deps.sh` (â‰ˆ1.8â€“2 Ğ“Ğ‘ Ğ² `.deps/ort_cuda`, Ğ¸Ğ³Ğ½Ğ¾Ñ€Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ Git).
- ĞĞ±Ñ‘Ñ€Ñ‚ĞºĞ° `scripts/run_cf_cuda.sh` Ğ²Ñ‹ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ ORT_STRATEGY=system Ğ¸ ÑƒĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ ORT_LIB_LOCATION/LD_LIBRARY_PATH Ğ½Ğ° `.deps/ort_cuda` (Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ORT + CUDA). Ğ•ÑĞ»Ğ¸ Ñ€ÑƒĞ³Ğ°ĞµÑ‚ÑÑ Ğ½Ğ° `libnvrtc.so.12`, Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ deps Ñ‡ĞµÑ€ĞµĞ· ÑĞºÑ€Ğ¸Ğ¿Ñ‚ (Ñ‚ÑĞ½ĞµÑ‚ÑÑ `nvidia-cuda-nvrtc-cu12`) Ğ¸Ğ»Ğ¸ Ğ´Ğ¾ĞºĞ¸Ğ½ÑŒÑ‚Ğµ so Ğ²Ñ€ÑƒÑ‡Ğ½ÑƒÑ.
- Ğ—Ğ°Ğ¿ÑƒÑĞº Ñ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¼Ğ¸ Ğ»Ğ¸Ğ±Ğ°Ğ¼Ğ¸: `scripts/run_cf_cuda.sh command --json '{"action":"search","payload":{"query":"foo","limit":3}}' --project /path/to/repo`.
- Ğ•ÑĞ»Ğ¸ Ğ½Ğ° Ñ…Ğ¾ÑÑ‚Ğµ Ğ½ĞµÑ‚ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´ÑÑ‰ĞµĞ³Ğ¾ Ğ´Ñ€Ğ°Ğ¹Ğ²ĞµÑ€Ğ°/ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ°, Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ñ„Ğ¾Ñ€ÑĞ¸Ñ‚ÑŒ CPU: `ORT_DISABLE_CUDA=1 scripts/run_cf_cuda.sh ...`.

## â™¾ ĞĞµĞ¿Ñ€ĞµÑ€Ñ‹Ğ²Ğ½Ñ‹Ğ¹ Ğ¸Ğ½Ğ´ĞµĞºÑ + health RPC

### Watch-Ğ´ĞµĞ¼Ğ¾Ğ½

1. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ Ğ´Ğ¾Ğ»Ğ³Ğ¾Ğ¶Ğ¸Ğ²ÑƒÑ‰Ğ¸Ğ¹ ÑĞµÑ€Ğ²ĞµÑ€, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ ÑĞ°Ğ¼ Ğ¸Ğ½Ğ´ĞµĞºÑĞ¸Ñ€ÑƒĞµÑ‚ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ:

   ```bash
   context-finder serve \
     --project /path/to/repo \
     --bind 0.0.0.0:50051 \
     --graph-language rust \
     --context-depth 2
   ```

2. ĞŸĞ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ Ğ²ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ÑÑ `StreamingIndexer`: notify-Ğ²Ğ¾Ñ‚Ñ‡ĞµÑ€ ÑĞ¾Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ, Ğ´ĞµĞ±Ğ°ÑƒĞ½ÑĞ¸Ñ‚ Ğ±ÑƒÑ€ÑÑ‚Ñ‹ Ğ¸ Ñ‚Ñ€Ğ¸Ğ³Ğ³ĞµÑ€Ğ¸Ñ‚ Ğ¸Ğ½ĞºÑ€ĞµĞ¼ĞµĞ½Ñ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¿ĞµÑ€ĞµÑĞ±Ğ¾Ñ€ĞºĞ¸ (<2â€¯Ñ Ğ´Ğ»Ñ Ğ¾Ğ´Ğ¸Ğ½Ğ¾Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ñ„Ğ°Ğ¹Ğ»Ğ°). Ğ”Ğ»Ñ Ñ€ÑƒÑ‡Ğ½Ğ¾Ğ³Ğ¾ Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ° ĞµÑÑ‚ÑŒ `--no-watch`.

3. ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ¾Ñ‚ĞºĞ»Ğ¸ĞºĞ° Ñ‚ÑĞ½ÑÑ‚ÑÑ Ñ„Ğ»Ğ°Ğ³Ğ°Ğ¼Ğ¸ `--watch-debounce-ms` Ğ¸ `--watch-max-batch-ms`. ĞŸĞµÑ€Ğ²Ñ‹Ğ¹ Ğ·Ğ°Ğ´Ğ°Ñ‘Ñ‚ Ğ´ĞµĞ±Ğ°ÑƒĞ½Ñ Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ, Ğ²Ñ‚Ğ¾Ñ€Ğ¾Ğ¹ â€” Ğ¼Ğ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾Ğ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¿ĞµÑ€ĞµĞ´ Ñ„Ğ¾Ñ€ÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ Ğ¿Ğ°Ñ‡ĞºĞ¸.

### Health / Trigger RPC

gRPC API Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºÑƒĞµÑ‚ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ñ†Ğ¸ĞºĞ»Ğ° Ğ¸ Ğ°Ğ»ĞµÑ€Ñ‚Ñ‹. ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ (Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ `grpcurl`):

```bash
grpcurl -plaintext -d '{}' \
  127.0.0.1:50051 contextfinder.ContextFinder/GetHealth
```

ĞÑ‚Ğ²ĞµÑ‚ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚:

```json
{
  "hasWatcher": true,
  "indexing": false,
  "lastSuccessUnixMs": 1732031388123,
  "lastDurationMs": 421,
  "filesPerSecond": 5120.4,
  "indexSizeBytes": 18765432,
  "durationP95Ms": 560,
  "alertLogJson": "[{\"timestamp_unix_ms\":...,\"level\":\"error\",...}]"
}
```

`alertLogJson` â€” Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ğ¹ JSON Ğ»Ğ¾Ğ³ Ğ´Ğ»Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ğ°Ğ»ĞµÑ€Ñ‚Ğ¾Ğ² (Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ 20 ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹). Ğ”Ğ»Ñ Ñ€ÑƒÑ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞºĞ° Ğ¸Ğ½Ğ´ĞµĞºÑĞ° Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ:

Ğ’ CLI Ñ‚Ğµ Ğ¶Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ğ¿Ğ°Ğ´Ğ°ÑÑ‚ Ğ² `meta`: `health_last_success_ms`, `health_last_failure_ms`, `health_failure_reasons`, Ğ° Ñ‚Ğ°ĞºĞ¶Ğµ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ñ‹ `index_size_bytes` Ğ¸ `graph_cache_size_bytes` â€” Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ ÑÑ€Ğ°Ğ·Ñƒ Ğ¿Ğ¾Ğ½ÑÑ‚ÑŒ, ÑĞ²ĞµĞ¶Ğ¸Ğ¹ Ğ»Ğ¸ Ğ¸Ğ½Ğ´ĞµĞºÑ Ğ¸ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑ‚ Ğ»Ğ¸ Ğ³Ñ€Ğ°Ñ„.
Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ Ğ²Ñ‹Ğ²Ğ¾Ğ´ÑÑ‚ÑÑ `health_p95_ms` (p95 Ğ´Ğ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ñ… Ğ¿Ñ€Ğ¾Ğ³Ğ¾Ğ½Ğ¾Ğ²) Ğ¸ `health_failure_count` â€” Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°ĞµÑ‚ Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾ ÑƒĞ²Ğ¸Ğ´ĞµÑ‚ÑŒ Ğ´ĞµĞ³Ñ€Ğ°Ğ´Ğ°Ñ†Ğ¸Ñ Ğ¸Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ğ¸.
`health_files_per_sec` Ğ¸ `health_stale_ms` Ğ´Ğ°ÑÑ‚ throughput Ğ¸ Â«Ğ²Ğ¾Ğ·Ñ€Ğ°ÑÑ‚Â» Ğ¸Ğ½Ğ´ĞµĞºÑĞ°; Ğ¿Ñ€Ğ¸ >15 Ğ¼Ğ¸Ğ½ÑƒÑ‚ Ğ¿Ğ¾ÑĞ²Ğ¸Ñ‚ÑÑ warn-hint Ğ¾ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¿ĞµÑ€ĞµÑĞ±Ğ¾Ñ€ĞºĞ¸.

```bash
grpcurl -plaintext -d '{"reason":"nightly-regen"}' \
  127.0.0.1:50051 contextfinder.ContextFinder/TriggerIndex
```

ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° Ğ²ĞµÑ€Ğ½Ñ‘Ñ‚ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ Ğ¸ Ğ¿Ğ¾ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ Ğ² Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ, Ğ¼Ğ¸Ğ½ÑƒÑ Ğ´ĞµĞ±Ğ°ÑƒĞ½Ñ.

#### Prometheus endpoint

Ğ”Ğ»Ñ scrape Ğ±ĞµĞ· gRPC Ğ¿Ğ¾Ğ´Ğ½Ğ¸Ğ¼Ğ¸Ñ‚Ğµ Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ HTTP endpoint:

```bash
context-finder serve \
  --project /path/to/repo \
  --metrics-bind 127.0.0.1:9100

curl http://127.0.0.1:9100/metrics
```

Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€ÑƒÑÑ‚ÑÑ gauge-Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸ `contextfinder_last_index_duration_ms`, `contextfinder_files_per_second`, `contextfinder_alert_log_len` Ğ¸ Ğ´Ñ€., Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ¼Ñƒ Prometheus/Alertmanager Ğ¼Ğ¾Ğ³ÑƒÑ‚ Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ Ğ½Ğ°Ğ±Ğ»ÑĞ´Ğ°Ñ‚ÑŒ Ğ·Ğ° Ğ·Ğ°Ğ´ĞµÑ€Ğ¶ĞºĞ°Ğ¼Ğ¸ Ğ¸ ÑĞ±Ğ¾ÑĞ¼Ğ¸.

### Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ĞºĞ°Ğº Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ°

```rust
use context_code_chunker::{Chunker, ChunkerConfig};
use context_vector_store::VectorStore;
use context_search::HybridSearch;

#[tokio::main]
async fn main() -> anyhow::Result<()> {
    // 1. Chunking
    let chunker = Chunker::new(ChunkerConfig::for_embeddings());
    let chunks = chunker.chunk_file("src/main.rs")?;

    // 2. Vector store + indexing
    let mut store = VectorStore::new("vectors.db").await?;
    store.add_chunks(chunks.clone()).await?;

    // 3. Hybrid search (semantic + fuzzy)
    let search = HybridSearch::new(store).await?;
    let results = search.search("error handling", 10).await?;

    // 4. Output as JSON
    println!("{}", serde_json::to_string_pretty(&results)?);

    Ok(())
}
```

## ğŸ“¦ ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

### 1. **code-chunker** â€” Ğ¡ĞµĞ¼Ğ°Ğ½Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ñ€Ğ°Ğ·Ğ±Ğ¸ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ´Ğ°

- Tree-sitter AST parsing Ğ´Ğ»Ñ Rust/Python/JS/TS
- Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ° (imports, parent scopes)
- Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸: Semantic (primary), LineCount, TokenAware
- ĞœĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ: symbol names, types, documentation

### 2. **vector-store** â€” Ğ’ĞµĞºÑ‚Ğ¾Ñ€Ğ½Ğ¾Ğµ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ

- ONNX Runtime (CUDA) Ğ´Ğ»Ñ embeddings (BGE/Jina, 384â€“1024d)
- HNSW index Ğ´Ğ»Ñ Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾Ğ³Ğ¾ ANN search
- ĞŸĞµÑ€ÑĞ¸ÑÑ‚ĞµĞ½Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ (JSON + binary)
- Batch processing Ğ´Ğ»Ñ ÑÑ„Ñ„ĞµĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚Ğ¸

### 3. **search** â€” Ğ“Ğ¸Ğ±Ñ€Ğ¸Ğ´Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº

- Semantic search (70% Ğ²ĞµÑ) â€” embeddings + cosine similarity
- Fuzzy search (30% Ğ²ĞµÑ) â€” nucleo-matcher Ğ´Ğ»Ñ Ğ¸Ğ¼ĞµĞ½
- RRF (Reciprocal Rank Fusion) Ğ´Ğ»Ñ Ğ¾Ğ±ÑŠĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ñ
- AST-aware boosting (Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ > variables)

### 4. **indexer** â€” Ğ˜Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¾Ğ²

- ĞŸĞ°Ñ€Ğ°Ğ»Ğ»ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² (rayon)
- .gitignore aware (ignore crate)
- Pipeline: scan â†’ chunk â†’ embed â†’ index
- Incremental updates (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹)

### 5. **cli** â€” ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ½Ñ‹Ğ¹ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ

- 4 ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹: index, search, get-context, list-symbols
- Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ JSON output (parseable Ğ´Ğ»Ñ Ğ˜Ğ˜)
- ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
- Install via `cargo install`

## âš¡ ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ

| ĞĞ¿ĞµÑ€Ğ°Ñ†Ğ¸Ñ | Ğ’Ñ€ĞµĞ¼Ñ | ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ |
|----------|-------|------------|
| Chunking (10K LOC) | 50-200ms | AST parsing + metadata |
| Embedding (1 chunk) | 5-15ms | ONNX Runtime CUDA (BGE/Jina) |
| Fuzzy search (100K chunks) | 1-5ms | nucleo-matcher |
| Semantic search (100K) | 10-50ms | HNSW index |
| Full hybrid search | 15-60ms | Fuzzy + Semantic + Fusion |
| Indexing (100K LOC) | 5-15s | Parallel, includes embeddings |

*Ğ¢ĞµÑÑ‚Ñ‹ Ğ½Ğ°: AMD Ryzen 7 5800X, 32GB RAM, NVMe SSD*

## ğŸ¯ ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ° Ğ¿ĞµÑ€ĞµĞ´ Ğ°Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ°Ğ¼Ğ¸

| ĞÑĞ¿ĞµĞºÑ‚ | Context Finder | Ğ¢Ñ€Ğ°Ğ´Ğ¸Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ LSP | grep/ripgrep |
|--------|----------------|------------------|--------------|
| Ğ¡ĞµĞ¼Ğ°Ğ½Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº | âœ… Ğ“Ğ¸Ğ±Ñ€Ğ¸Ğ´Ğ½Ñ‹Ğ¹ | âŒ Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° | âŒ Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ñ‚ĞµĞºÑÑ‚ |
| Ğ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ | âš¡ 15-60ms | ğŸ¢ 100-500ms | âš¡âš¡ <5ms |
| ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ | âœ… ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ | ğŸŸ¡ Ğ§Ğ°ÑÑ‚Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ | âŒ ĞĞµÑ‚ |
| ĞœÑƒĞ»ÑŒÑ‚Ğ¸ÑĞ·Ñ‹Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ | âœ… 10+ ÑĞ·Ñ‹ĞºĞ¾Ğ² | ğŸŸ¡ Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ LSP | âœ… Ğ’ÑĞµ Ñ„Ğ°Ğ¹Ğ»Ñ‹ |
| Ğ˜Ğ˜-Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ | âœ… ĞĞ°Ñ‚Ğ¸Ğ²Ğ½Ğ°Ñ | âŒ ĞĞµÑ‚ | âŒ ĞĞµÑ‚ |
| Ğ˜Ğ½ĞºÑ€ĞµĞ¼ĞµĞ½Ñ‚Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ | âœ… Ğ”Ğ° | âœ… Ğ”Ğ° | âŒ ĞĞµÑ‚ |

## ğŸ› ï¸ Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°

```bash
# Ğ—Ğ°Ğ¿ÑƒÑĞº Ñ‚ĞµÑÑ‚Ğ¾Ğ²
cargo test --all

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞºĞ¾Ğ´Ğ°
cargo clippy --all-targets --all-features

# Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
cargo fmt --all

# Benchmark
cargo bench

# Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
cargo doc --open --no-deps
```

## ğŸ“„ Ğ›Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸Ñ

MIT OR Apache-2.0

## ğŸ¤ Ğ’ĞºĞ»Ğ°Ğ´

ĞŸÑ€Ğ¸Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒÑÑ‚ÑÑ pull requests! Ğ¡Ğ¼. [CONTRIBUTING.md](CONTRIBUTING.md)

## ğŸ™ Ğ‘Ğ»Ğ°Ğ³Ğ¾Ğ´Ğ°Ñ€Ğ½Ğ¾ÑÑ‚Ğ¸

- [Codex CLI](https://github.com/openai/codex) â€” Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ğ¾Ğµ Ğ²Ğ´Ğ¾Ñ…Ğ½Ğ¾Ğ²ĞµĞ½Ğ¸Ğµ
- [Tree-sitter](https://tree-sitter.github.io/) â€” AST parsing
- [HNSW](https://github.com/nmslib/hnswlib) â€” ANN search
- [ONNX Runtime](https://onnxruntime.ai/) â€” GPU embeddings backend

---

**Context Finder** â€” ÑĞ´ĞµĞ»Ğ°Ğ¹ Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ ĞºĞ¾Ğ´Ñƒ Ğ¼Ğ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ğ¾Ğ¹! ğŸš€

### Task-aware Ğ¿Ğ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ¸ (Ğ±Ñ‹ÑÑ‚Ñ€Ñ‹Ğµ ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸)

- **Debug (stacktrace/error/panic)** â†’ extended + graph, reuse_graph=true. Ğ¢ÑĞ½ĞµÑ‚ ÑĞ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ²Ñ‹Ğ·Ğ¾Ğ²Ñ‹/Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸.
- **Refactor/rename/migrate** â†’ direct (Ğ¼Ğ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ ÑˆÑƒĞ¼Ğ°, Ñ‚Ğ¾Ñ‡Ğ½Ñ‹Ğµ ÑĞ¾Ğ²Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ñ).
- **Navigation/architecture/overview/map** â†’ extended (ÑˆĞ¸Ñ€Ğµ Ğ¿Ğ¾ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ, Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ graph).
- **Perf/latency/throughput** â†’ deep (Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ¸Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ ÑĞ²ÑĞ·Ğ¸ Ğ¿Ğ¾ Ğ³Ñ€Ğ°Ñ„Ñƒ).

ĞŸĞ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ¸ Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´ÑÑ‚ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¾Ğ¼ Ğ² `hints`; Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ğ°Ñ ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ Ğ¾Ñ‚Ñ€Ğ°Ğ¶Ğ°ĞµÑ‚ÑÑ Ğ² `hints`/`meta`.

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²:
- `panic stacktrace` â†’ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚Ğµ hint debug + graph paths Ğ¸Ğ· related (Ğ¿ÑƒÑ‚Ğ¸ Ñ Ñ‚Ğ¸Ğ¿Ğ°Ğ¼Ğ¸ Ñ€ĞµĞ±ĞµÑ€ Calls/Uses/Tests, ÑƒÑĞµÑ‡Ñ‘Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ¾ 4 ÑˆĞ°Ğ³Ğ¾Ğ²).
- `rename user_service` â†’ hint refactor, ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ direct, Ğ¼Ğ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ ÑˆÑƒĞ¼Ğ°.
- `architecture overview` â†’ hint navigation, Ğ²Ñ‹Ğ´Ğ°Ñ‡Ğ° ÑˆĞ¸Ñ€Ğµ, Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ `show_graph=true`.
- `latency spike payment` â†’ hint perf, ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ deep, graph ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚ĞµĞ½.

### CLI Ñ„Ğ»Ğ°Ğ³Ğ¸
- `--quiet` â€” Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ñ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸Ñ/Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸ Ğ² stderr (stdout Ğ¾ÑÑ‚Ğ°Ñ‘Ñ‚ÑÑ Ñ‡Ğ¸ÑÑ‚Ñ‹Ğ¼ JSON)
- `-v/--verbose` â€” Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ»Ğ¾Ğ³Ğ¸ Ğ² stderr
- SLA-Ğ¿Ğ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ¸: Ğ¿Ñ€Ğ¸ ÑƒÑÑ‚Ğ°Ñ€ĞµĞ²ÑˆĞµĞ¼ Ğ¸Ğ½Ğ´ĞµĞºÑĞµ (>15 Ğ¼Ğ¸Ğ½), Ğ²Ñ‹ÑĞ¾ĞºĞ¾Ğ¼ Ğ¿95 (>2s), Ğ±Ğ¾Ğ»ÑŒÑˆĞ¾Ğ¼ Ğ±ÑĞºĞ»Ğ¾Ğ³Ğµ fs-ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹ Ğ¸Ğ»Ğ¸ Ğ½Ğ¸Ğ·ĞºĞ¾Ğ¼ throughput Ğ¿Ğ¾Ğ¸ÑĞº Ğ²Ñ‹Ğ´Ğ°ÑÑ‚ warn-hints Ğ¸ Ğ¿Ğ¾ĞºĞ°Ğ¶ĞµÑ‚ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ² `meta`.

### A/B ÑÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ (baseline vs context)

- ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°: `context-finder command --json '{"action":"compare_search","payload":{"queries":["q1","q2"],"limit":6}}'`
- Ğ¡Ğ¼Ğ¾Ñ‚Ñ€Ğ¸Ñ‚Ğµ `data.summary` Ğ¸ meta: `compare_avg_baseline_ms`, `compare_avg_context_ms`, `compare_avg_overlap_ratio`, `compare_avg_related`.
- Hints Ğ²Ñ‹Ğ²Ğ¾Ğ´ÑÑ‚ ĞºÑ€Ğ°Ñ‚ĞºĞ¾Ğµ Ñ€ĞµĞ·ÑĞ¼Ğµ (`Baseline avg â€¦ vs context â€¦ (+related)`), cache-hit, Ğ° Ñ‚Ğ°ĞºĞ¶Ğµ health/graph cache ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ.
